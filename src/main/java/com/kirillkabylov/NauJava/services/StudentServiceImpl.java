package com.kirillkabylov.NauJava.services;

import com.kirillkabylov.NauJava.database.StudentRepository;
import com.kirillkabylov.NauJava.domain.Student;

public class StudentServiceImpl implements StudentService {

    private final StudentRepository studentRepository;

    public StudentServiceImpl(StudentRepository studentRepository) {
        this.studentRepository = studentRepository;
    }

    @Override
    public void createStudent(Long id, String login, String fullName, String password, String groupName) {
        Student newStudent = new Student(id, login, fullName, password, groupName);
        studentRepository.create(newStudent);
    }

    @Override
    public Student findById(Long id) {
        return studentRepository.read(id);
    }

    @Override
    public void deleteById(Long id) {
        studentRepository.delete(id);
    }

    @Override
    public void updateLogin(Long id, String newLogin) {
        Student student = studentRepository.read(id);
        //???????????????? ???????????????? ???? ????????????????
        student.setLogin(newLogin);
        studentRepository.update(student);
    }

    @Override
    public void updateFullName(Long id, String fullName) {
        Student student = studentRepository.read(id);
        //???????????????? ???????????????? ???? ???????????????????? ??????????????
        student.setFullName(fullName);
        studentRepository.update(student);
    }

    @Override
    public void updatePassword(Long id, String newPassword) {
        Student student = studentRepository.read(id);
        //???????????????? ???????????????? ???? ?????????????? ????????????
        student.setPassword(newPassword);
        studentRepository.update(student);
    }

    public void updateGroupName(Long id, String newGroupName) {
        Student student = studentRepository.read(id);
        //???????????????? ???????????????? ???? ?????????????? ???????????? ???????????? (?????????????? ??????????)
        student.setGroupName(newGroupName);
        studentRepository.update(student);
    }

}
